{% extends  'base.html' %}
{% block title %}
    Market Page 
{% endblock %}

{% block content %}
<!--  Include the modal  -->

<!--  This code is responsible of dividing the market page in two ro -->
<div class="row" style="margin-top: 20px; margin-left: 20px;">
    <!--  Put available items on the left -->
    <div class="col-8">
         <!--  Insert items in a table  -->
    <h2> Available items on the market </h2>
    <p> Click on one of the items to start buying </p>
    <br>
    <table class="table table-dark table-hover table-dark">
        <thead>
            <tr> 
                <!--  Your columns Here -->
                <th scope="col"> ID </th>
                <th scope="col"> Name </th>
                <th scope="col"> Barcode </th>
                <th scope="col"> Price  </th>
                <th scope="col"> Options  </th>
            </tr>
        </thead>
        <tbody>
            <!--  Your rows here  -->
            {% for item in items %}
            {% include "includes/items_modals.html" %}
                <tr>
                    <td> {{ item["id"] }} </td>
                    <td> {{ item["name"] }} </td>
                    <td> {{ item["barcode"] }} </td>
                    <td> {{ item["price"] }} $</td> 
                    <td>
                        <button class="btn btn-outline btn-info" data-bs-toggle ="modal" data-bs-target="#Modal-MoreInfo-{{ item.id }}">More Info</button>
                        <button class="btn btn-outline btn-success" data-bs-toggle="modal" data-bs-target ="#Modal-Purchase-Confirm-{{ item.id }}">Purchase this  Item </button>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
     
      </table>


    </div>

    <div class="col-4">
        <h2> Owned items </h2>
        <p> Click on sell items to put item on the market</p>
        <br>
        <div class="row">
            {%  for owned_item in owned_items %}
                <div class="col-md-6">
                    <!--  Add a card in the right side  -->
                    <div class="card text-center bg-dark" style="margin-bottom:5px">
                        <div class="card-body">
                            <h5 type="card-title"> {{ owned_item.name }} </h5>
                            <button type="button" class="btn btn-outline-danger" style="margin-bottom: 10px;" data-bs-toggle="modal" data-bs-target="#Modal-Selling-Confirm-{{ owned_item.id }}">
                            Sell this item
                            </button>
                            <p class="card-text"> <strong> This  item costs {{ owned_item.price }}$ </strong></p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
  </div>
<!--  end block  -->
   
{% endblock %}


